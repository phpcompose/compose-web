<?php
$this->layout = 'layout::main';
/** @var \Compose\Web\Form\Submission $form */
?>

<section class="row justify-content-center">
    <div class="col-lg-7">
        <div class="card shadow-sm">
            <div class="card-body p-4">
                <h1 class="h4 mb-3">Account settings</h1>

                <?php if ($form->isSubmitted() && !$form->isValidSubmit()): ?>
                    <div class="alert alert-danger">Please correct the highlighted fields.</div>
                <?php endif; ?>

                <?php if ($form->hasSubmissionErrors()): ?>
                    <div class="alert alert-danger">
                        <?= htmlspecialchars($form->getSubmissionErrors()[0] ?? 'Update failed.', ENT_QUOTES, 'UTF-8') ?>
                    </div>
                <?php endif; ?>

                <?= $this->helpers->form->renderForm($form) ?>
            </div>
        </div>
    </div>
</section>
